/**
 * TinyMCE version 7.3.0 (2024-08-07)
 */
/*
!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const o=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:o},onSubmit:o=>{((e,o)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(o)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,o.getData().code),o.close()}})})(e)}))})(e),(e=>{const o=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:o}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:o})})(e),{})))}();
*/
tinymce.PluginManager.add("code",e=>{let t=()=>{let t=document.createElement("dialog");t.id="customDialog",t.style.width="100%",t.style.height="80%",t.style.backgroundColor="#fff",t.style.fontFamily ="Segoe UI";t.style.border="1px solid #ccc",t.style.zIndex="10000",t.style.borderRadius="8px",t.style.padding="5px 10px";let o=document.createElement("div");o.style.display="flex",o.style.justifyContent="space-between",o.style.alignItems="center";let n=document.createElement("p");n.style.fontSize="1.5rem",n.style.marginBottom="5px",n.textContent="Source Code",o.appendChild(n),t.appendChild(o);let d=document.createElement("button");d.style.padding="0.25rem",d.style.cursor="pointer",d.style.fontSize="1.5rem",d.style.zIndex="50",d.style.backgroundColor="transparent",d.style.outline="none",d.style.border="none",d.textContent="x",d.setAttribute("title","Close"),d.onmouseover=function(){d.style.color="#ef4444"},d.onmouseout=function(){d.style.fill="none",d.style.backgroundColor="transparent",d.style.color="currentColor"},d.onclick=()=>{l()},o.appendChild(d);let i=document.createElement("div");i.id="editor",i.style.width="99%",i.style.height="400px",i.style.maxHeight="75%",i.style.padding="5px",i.style.scrollBehavior="smooth",i.style.borderRadius="5px",i.style.border="2px solid #006ce7",i.style.marginBottom="10px";let s=(e,t)=>{let o=document.createElement("button");return o.id=e,o.textContent=t,o.className="dialog-btn",o.style.marginLeft="8px",o.style.marginTop = "5px",o.style.borderRadius="5px",o.style.padding="5px 10px",o.style.border="none",o.style.cursor="pointer",o},r=s("format","Format Code"),a=s("theme","Dark/Light Theme"),c=s("saveCode","Save"),p=s("closeDialog","Close");a.addEventListener("click",()=>{let e=ace.edit("editor"),t=e.getTheme();e.setTheme("ace/theme/monokai"===t?"ace/theme/tomorrow":"ace/theme/monokai")}),r.addEventListener("click",()=>{ace.config.loadModule("ace/ext/beautify",function(e){e.beautify(ace.edit("editor").session)})}),c.addEventListener("click",()=>{let t=ace.edit("editor");e.setContent(t.getValue()),l()}),p.addEventListener("click",l),t.appendChild(i),t.appendChild(r),t.appendChild(a),t.appendChild(c),t.appendChild(p),document.body.appendChild(t)},o=()=>{let t=ace.edit("editor");document.body.style.overflow="hidden",t.session.setMode("ace/mode/html"),t.setOptions({wrap:!0,indentedSoftWrap:!1,selectionStyle:"text",enableAutoIndent:!0,behavioursEnabled:!1,showLineNumbers:!0,showPrintMargin:!1,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,autoScrollEditorIntoView:!0,foldStyle:"markbegin",showFoldWidgets:!0,fontSize:"14px",theme:"ace/theme/tomorrow"}),t.setValue(e.getContent({source_code:!0})),document.getElementById("customDialog").showModal()},l=()=>{document.getElementById("customDialog").close(),document.body.style.overflow=""};t(),e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:o}),e.ui.registry.addMenuItem("code",{text:"Source Code",icon:"sourcecode",onAction:o})});